!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.xstateUtils=e():t.xstateUtils=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";function r(t){try{return"string"==typeof t||"number"==typeof t?""+t:"function"==typeof t?t.name:t.type}catch(t){throw new Error("Events must be strings or objects with a string event.type property.")}}function i(t,e){try{return Array.isArray(t)?t:t.toString().split(e)}catch(e){throw new Error("'"+t+"' is not a valid state path.")}}function a(t,e){return t instanceof g?t.value:"object"!=typeof t||t instanceof g?o(i(t,e)):t}function o(t){if(1===t.length)return t[0];for(var e={},n=e,r=0;r<t.length-1;r++)r===t.length-2?n[t[r]]=t[r+1]:(n[t[r]]={},n=n[t[r]]);return e}function s(t){var e=t.states;return Object.keys(e).reduce(function(t,n){var r=e[n],i=s(e[n]);return t.push.apply(t,[r].concat(i)),t},[])}function u(t,e){var n=t.on[e];return d(n.map(function(n){return[].concat(n.target).map(function(i){var a=t.getRelativeStateNodes(i,void 0,!1)[0];return{source:t,target:a,event:e,actions:n.actions?n.actions.map(r):[],cond:n.cond}})}))}function c(t,e){var n=(e||{}).deep,r=void 0===n||n,i=[];return t.states&&r&&Object.keys(t.states).forEach(function(e){i.push.apply(i,c(t.states[e]))}),Object.keys(t.on).forEach(function(e){i.push.apply(i,u(t,e))}),i}function f(t,e){function n(a){var o=JSON.stringify(a);if(!r[o]){r[o]={};for(var s=0,u=i;s<u.length;s++){var c=u[s],f=t.transition(a,c,e);r[o][c]={state:f.value},n(f.value)}}}var r={},i=t.events;return n(t.initialState.value),r}function v(t,e){function n(e){var r=JSON.stringify(e);u.add(r);for(var o=i[r],c=0,f=Object.keys(o);c<f.length;c++){var v=f[c],p=o[v].state;if(p){var l=JSON.stringify(a(p,t.delimiter));(!s[l]||s[l].length>s[r].length+1)&&(s[l]=(s[r]||[]).concat([{state:e,event:v}]))}}for(var h=0,y=Object.keys(o);h<y.length;h++){var g=y[h],p=o[g].state;if(p){var l=JSON.stringify(p);u.has(l)||n(p)}}return s}var r;if(!t.states)return O;var i=f(t,e),o=JSON.stringify(t.initialState.value),s=(r={},r[o]=[],r),u=new Set;return n(t.initialState.value),s}function p(t,e){var n=v(t,e);return Object.keys(n).map(function(t){return{state:JSON.parse(t),path:n[t]}})}function l(t,e){function n(t,e){if(i.add(t),t===e)o[e]=o[e]||[],o[e].push(a.slice());else for(var s=0,u=Object.keys(r[t]);s<u.length;s++){var c=u[s],f=r[t][c].state;if(f){var v=JSON.stringify(f);i.has(v)||(a.push({state:JSON.parse(t),event:c}),n(v,e))}}a.pop(),i.delete(t)}if(!t.states)return O;var r=f(t,e),i=new Set,a=[],o={},s=JSON.stringify(t.initialState.value);return Object.keys(r).forEach(function(t){n(s,t)}),o}function h(t,e){var n=l(t,e);return Object.keys(n).map(function(t){return{state:JSON.parse(t),paths:n[t]}})}Object.defineProperty(e,"__esModule",{value:!0});var y={},g=function(){function t(t,e,n,r,i,a,o){void 0===r&&(r=[]),void 0===i&&(i=y),void 0===a&&(a={}),void 0===o&&(o=[]),this.value=t,this.historyValue=e,this.history=n,this.actions=r,this.activities=i,this.data=a,this.events=o}return t.from=function(e){return e instanceof t?e:new t(e)},t.inert=function(e){return e instanceof t?e.actions.length?new t(e.value,e.historyValue,e.history,[],e.activities):e:t.from(e)},t.prototype.toString=function(){if("string"==typeof this.value)return this.value;for(var t=[],e=this.value;;){if("string"==typeof e){t.push(e);break}var n=Object.keys(e),r=n[0];if(n.slice(1).length)return;t.push(r),e=e[r]}return t.join(".")},t}(),d=function(t){return t.reduce(function(t,e){return t.concat(e)},[])};e.getNodes=s,e.getEventEdges=u,e.getEdges=c,e.getAdjacencyMap=f,e.getShortestPaths=v,e.getShortestPathsAsArray=p,e.getSimplePaths=l,e.getSimplePathsAsArray=h;var O={}}])});